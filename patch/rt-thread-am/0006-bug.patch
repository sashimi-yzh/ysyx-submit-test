From d191d836a3f7f65aab6165707cce319d9ae1c74e Mon Sep 17 00:00:00 2001
From: LUO QUAN <2990261695@qq.com>
Date: Mon, 3 Nov 2025 18:48:36 +0800
Subject: [PATCH 6/6] =?UTF-8?q?=E4=BF=AE=E6=94=B9=E4=BA=86=E6=9E=B6?=
 =?UTF-8?q?=E6=9E=84=E9=80=89=E6=8B=A9=E7=9A=84bug?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 bsp/abstract-machine/Makefile | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

diff --git a/bsp/abstract-machine/Makefile b/bsp/abstract-machine/Makefile
index dc28e28fe..25463be0b 100644
--- a/bsp/abstract-machine/Makefile
+++ b/bsp/abstract-machine/Makefile
@@ -12,7 +12,8 @@ CFLAGS += -Wno-nonnull-compare
 # 根据ARCH设置不同的链接脚本
 ifeq ($(ARCH),riscv32e-ysyxsoc)
     LDFLAGS += -T extra_ysyxsoc.ld
-	CXXFLAGS += -DARCH_RISCV32E_YSYXSOC
+	CFLAGS += -DARCH_RISCV32E_YSYXSOC
+    CXXFLAGS += -DARCH_RISCV32E_YSYXSOC
 else
     LDFLAGS += -T extra.ld
 endif
@@ -21,6 +22,10 @@ endif
 -include $(AM_APPS_MK)
 include $(AM_HOME)/Makefile
 
+$(info ARCH=$(ARCH))
+$(info CFLAGS=$(CFLAGS))
+$(info CXXFLAGS=$(CXXFLAGS))
+
 $(RTCONFIG_H):
 	touch $@
 	scons --useconfig=.config
-- 
2.34.1

